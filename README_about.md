# О проекте KOSMOS-VECTOR

**KOSMOS-VECTOR** (AIAN Vector) — это полноценный RAG-сервер с векторным хранилищем на базе PostgreSQL (pgvector) и веб-интерфейсом для управления документами и кодовой базой.

## Суть проекта

Проект решает задачу **семантического поиска и анализа кодовой базы**, предоставляя автоматизированную систему для разбиения исходного кода на логические блоки (чанки), их векторизации и хранения в PostgreSQL. Это позволяет AI-агентам и разработчикам задавать вопросы к кодовой базе на естественном языке и получать релевантные фрагменты кода с контекстом.

## Ключевые возможности

* **Векторизация кода:** Автоматическое разбиение и векторизация файлов различных типов (JS/TS, PHP, SQL, Markdown) с учётом структуры языка — функции, классы, методы, traits, интерфейсы, таблицы, процедуры.
* **Умный парсинг:** Специализированные загрузчики для каждого языка: `jsFunctionLoader`, `tsFunctionLoader`, `phpFunctionLoader`, `sqlFunctionLoader`.
* **Гибкая модель эмбеддингов:** Паттерн Factory поддерживает `SimpleEmbeddings` (локальные, для тестов) и `OpenAIEmbeddings` (через API OpenAI, модель `text-embedding-ada-002`).
* **PostgreSQL + pgvector:** Хранение векторов и метаданных в реляционной БД с поддержкой векторного поиска.
* **RAG-ответы:** Интеграция с внешним AI-сервером для генерации ответов на основе найденного контекста.
* **REST API:** Полноценный API для работы с документами, чанками, поиском и генерацией (OpenAPI-контракт в `docs/api-contract.yaml`).
* **Веб-интерфейс:** UI для просмотра документов, управления чанками, тестирования запросов и экспорта данных.
* **Многоуровневые метаданные:** Поддержка уровней описания (L0-код, L1-зависимости, L2-описание) и типов чанков (function, table, procedure и др.).

## Для чего это нужно

Проект выступает **инфраструктурным слоем для AI-агентов**, обеспечивая их контекстом кодовой базы. Основные сценарии использования:

* Поиск релевантного кода по семантическому запросу
* Автоматическая каталогизация SQL-объектов, JS/TS модулей и PHP классов
* Построение базы знаний для LLM-ассистентов разработчика
* Анализ зависимостей между компонентами кодовой базы (L1 связи: импорты, вызовы, use statements)

## Базовые технологии

* **Bun** — runtime и менеджер пакетов
* **Node.js / Express** — веб-сервер
* **JavaScript** — основной язык
* **PostgreSQL + pgvector** — векторное хранилище
* **LangChain** — интеграция с embedding-моделями
* **REST API** — контракт в виде OpenAPI YAML
