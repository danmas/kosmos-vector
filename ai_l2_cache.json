{
  "AIItem": {
    "l2": "{\"purpose\": \"Класс AIItem хранит данные о конкретном элементе ИИ: идентификатор, тип, фрагмент кода и сопутствующий контракт.\", \"uses\": [\"Сохраняет информацию о найденных фрагментах кода в проекте.\", \"Передаёт данные в сервисы анализа/обработки ИИ.\", \"Служит объектом при генерации отчётов о найденных элементах.\", \"Используется в тестах для проверки корректности парсинга.\", \"\"], \"returns\": \"None\", \"edge_cases\": \"Отсутствует проверка корректности переданных аргументов; конструктор может не присвоить атрибут contract, если код обрезан; отсутствие docstring затрудняет автодокументацию.\"}",
    "type": "class",
    "file_path": "C:\\ERV\\projects-ex\\kosmos-vector\\prototype_rag_cli.py",
    "source": "LLM",
    "timestamp": 1763383732.1215777
  },
  "AIItem.__init__": {
    "l2": "{\"purpose\": \"Инициализирует объект AIItem, сохраняя его идентификатор, тип, фрагмент кода и контракт.\", \"uses\": [\"Создание AIItem для хранения информации о фрагменте кода.\", \"Передача AIItem в систему анализа кода для дальнейшей обработки.\", \"Сохранение AIItem в базу данных как метаданные.\", \"Передача AIItem в UI для отображения контекста.\"], \"returns\": \"None\", \"edge_cases\": \"Если аргумент contract не содержит ожидаемых ключей, дальнейшие методы могут выбросить KeyError; id или type пустые строки не проверяются.\"}",
    "type": "function",
    "file_path": "C:\\ERV\\projects-ex\\kosmos-vector\\prototype_rag_cli.py",
    "source": "LLM",
    "timestamp": 1763383732.1215777
  },
  "AIItem.generate_l2": {
    "l2": "{\"purpose\": \"Создаёт или обновляет уровень L2 AIItem, используя генератор, либо резервный словарь.\", \"uses\": [\"Вызывается при сериализации AIItem для вывода L2.\", \"Используется в тестах для генерации тестовых данных.\", \"Обрабатывает зависимости в графе AIItem.\", \"Встраивается в pipeline генерации документации.\"], \"returns\": \"None (изменяет атрибут self.l2)\", \"edge_cases\": \"Если generator отсутствует, используется фиксированный словарь; если self.l2 уже задан, метод пропускает генерацию; возможна ошибка, если generator.generate_l2 не возвращает ожидаемый тип.\"}",
    "type": "function",
    "file_path": "C:\\ERV\\projects-ex\\kosmos-vector\\prototype_rag_cli.py",
    "source": "LLM",
    "timestamp": 1763383732.1215777
  },
  "L2Generator": {
    "l2": "{\"purpose\": \"Создаёт L2‑текст с помощью LLM, при недоступности сервиса использует запасной механизм.\", \"uses\": [\"вызывается из генераторов контента для получения описаний\", \"используется в тестах для мок‑апов LLM\", \"подключается к внешнему API через указанный URL\"], \"returns\": \"строка L2‑текста (или None при ошибке и dry_run=True)\", \"edge_cases\": \"необработанные исключения при сетевых ошибках после max_retries, возможное возвращение пустой строки при dry_run, неверные типы аргументов не проверяются\"}",
    "type": "class",
    "file_path": "C:\\ERV\\projects-ex\\kosmos-vector\\prototype_rag_cli.py",
    "source": "LLM",
    "timestamp": 1763383732.1215777
  },
  "L2Generator.__init__": {
    "l2": "{\"purpose\": \"Инициализация генератора L2 с настройкой URL API, модели, количества повторов и режима dry‑run.\", \"uses\": [\"Отправка запросов к внешнему API\", \"Выбор модели для генерации\", \"Контроль количества попыток при ошибках\", \"Тестовый режим без реальных запросов\"], \"returns\": \"None\", \"edge_cases\": \"При неверных типах аргументов может возникнуть TypeError; при пустом api_url запросы не будут выполнены; dry_run=True игнорирует реальный сетевой вызов.\"}",
    "type": "function",
    "file_path": "C:\\ERV\\projects-ex\\kosmos-vector\\prototype_rag_cli.py",
    "source": "LLM",
    "timestamp": 1763383732.1215777
  },
  "L2Generator.generate_l2": {
    "l2": "{\"purpose\": \"Generate L2 code analysis for an AIItem, returning a structured dictionary or a fallback result when in dry‑run mode.\", \"uses\": [\"self._fallback_l2(item) – provides mock analysis during dry‑run\", \"self._build_prompt(item) – builds the prompt for the LLM\"], \"returns\": \"A dict containing L2 analysis details (or None if fallback fails).\", \"edge_cases\": \"Handles dry‑run flag, missing prompt content, and LLM errors; returns an empty dict if the LLM call fails.\"}",
    "type": "function",
    "file_path": "C:\\ERV\\projects-ex\\kosmos-vector\\prototype_rag_cli.py",
    "source": "LLM",
    "timestamp": 1763383732.1215777
  },
  "L2Generator.generate_l2_batch": {
    "l2": "{\"purpose\": \"Создаёт батчи элементов AIItem для последующей обработки на уровне L2, ограничивая размер каждого батча.\", \"uses\": [\"Внутренний вызов L2Generator.generate_l2_batch для пакетной обработки данных.\", \"Подключён в pipeline генерации контента, где каждый батч передаётся в модель L2.\", \"Используется в тестах для проверки корректности пакетной логики.\"], \"returns\": \"Список AIItem, обработанных в рамках всех батчей.\", \"edge_cases\": \"Пустой список возвращает пустой список; batch_size <= 0 вызывает бесконечный цикл или ошибку деления; items не являющиеся списком приводит к TypeError.\"}",
    "type": "function",
    "file_path": "C:\\ERV\\projects-ex\\kosmos-vector\\prototype_rag_cli.py",
    "source": "LLM",
    "timestamp": 1763383732.1215777
  },
  "L2Generator._build_prompt": {
    "l2": "{\"purpose\": \"Builds a prompt string for an AI generator using an item's contract details.\", \"uses\": [\"Constructs prompt in L2Generator to generate code snippets\", \"Relies on item.contract containing optional 'args' and 'docstring' keys\", \"Used before calling the AI model for generation\"], \"returns\": \"A formatted string prompt\", \"edge_cases\": \"If 'args' is missing, it defaults to 'N/A'; if 'docstring' is missing, a placeholder is used; missing contract keys could raise KeyError if not handled elsewhere\"}",
    "type": "function",
    "file_path": "C:\\ERV\\projects-ex\\kosmos-vector\\prototype_rag_cli.py",
    "source": "LLM",
    "timestamp": 1763383732.1215777
  },
  "L2Generator._fallback_l2": {
    "l2": "{\"purpose\": \"Generates L2 documentation by combining automatic analysis, existing docstrings, code snippets and edge data for an AIItem.\", \"uses\": [\"Extracts contract details from the AIItem\", \"Parses the item's docstring for natural language description\", \"Collects a representative code snippet\", \"Aggregates edge cases for completeness\"], \"returns\": \"A dictionary containing keys like 'purpose', 'uses', 'returns', 'edge_cases', and optional metadata.\", \"edge_cases\": \"Handles missing contract fields by defaulting to a placeholder, empty or malformed docstrings, and items with no snippet or edge data.\"}",
    "type": "function",
    "file_path": "C:\\ERV\\projects-ex\\kosmos-vector\\prototype_rag_cli.py",
    "source": "LLM",
    "timestamp": 1763383732.1215777
  },
  "EmbedRetriever": {
    "l2": "{\"purpose\": \"Класс EmbedRetriever инициализирует параметры модели эмбеддингов, сохраняет путь к pickle-файлу и размерность векторов.\", \"uses\": [\"Подключение к предобученной модели E5 для генерации эмбеддингов\", \"Сохранение/загрузка эмбеддингов в/из pickle-файла\", \"Проверка совместимости размерности векторов с моделью\"], \"returns\": \"None (инициализация объекта)\", \"edge_cases\": \"Если pickle‑файл отсутствует, дальнейшие операции могут завершиться ошибкой; несоответствие dim модели и сохранённых эмбеддингов приводит к RuntimeError.\"}",
    "type": "class",
    "file_path": "C:\\ERV\\projects-ex\\kosmos-vector\\prototype_rag_cli.py",
    "source": "LLM",
    "timestamp": 1763383732.1215777
  },
  "EmbedRetriever.__init__": {
    "l2": "{\"purpose\": \"Инициализация класса EmbedRetriever с настройкой размерности эмбеддингов, названия модели и пути к pickle‑файлу. При вызове конструктор сохраняет параметры и готовит объект для дальнейшего поиска.\", \"uses\": [\"установка атрибутов self.dim, self.model_name, self.pickle_path\", \"загрузка предварительно обученной модели из HuggingFace\", \"чтение эмбеддингов из pickle‑файла\", \"инициализация индекса ANN для быстрого поиска\"], \"returns\": \"None\", \"edge_cases\": \"Если файл pickle отсутствует, может возникнуть FileNotFoundError; неверный dim (нецелое число) приведёт к TypeError; указание недоступного model_name вызовет ошибку загрузки модели.\"}",
    "type": "function",
    "file_path": "C:\\ERV\\projects-ex\\kosmos-vector\\prototype_rag_cli.py",
    "source": "LLM",
    "timestamp": 1763383732.1215777
  },
  "EmbedRetriever.add_items": {
    "l2": "{\"purpose\": \"Добавляет новые AI‑объекты в словарь embeddings_dict и обновляет тексты, связывая их с ID.\", \"uses\": [\"Обновление индекса поиска AI‑объектов\", \"Поддержка динамического добавления контента\", \"Интеграция с системой встраивания текста\"], \"returns\": \"None\", \"edge_cases\": \"Если ai_items пустой, ничего не изменится; отсутствие ключа 'purpose' в contract приводит к KeyError; повторные ID перезаписывают существующие записи.\"}",
    "type": "function",
    "file_path": "C:\\ERV\\projects-ex\\kosmos-vector\\prototype_rag_cli.py",
    "source": "LLM",
    "timestamp": 1763383732.1215777
  },
  "EmbedRetriever._try_load": {
    "l2": "{\"purpose\": \"Загружает сериализованные данные из pickle-файла и инициализирует атрибуты экземпляра.\", \"uses\": [\"Подключение к внешнему хранилищу для восстановления эмбеддингов\", \"Обновление внутреннего словаря эмбеддингов перед поиском\", \"Отладка при изменении схемы сериализации\"], \"returns\": \"None\", \"edge_cases\": \"Если файл отсутствует или повреждён, исключение будет выброшено; также возможны ошибки при отсутствии ключей 'texts' или 'embeddings' в загруженных данных.\"}",
    "type": "function",
    "file_path": "C:\\ERV\\projects-ex\\kosmos-vector\\prototype_rag_cli.py",
    "source": "LLM",
    "timestamp": 1763383732.1215777
  },
  "EmbedRetriever._generate_if_needed": {
    "l2": "{\"purpose\": \"Генерирует эмбеддинги для всех текстов, если они ещё не загружены, обеспечивая готовность модели к запросам.\", \"uses\": [\"Вызывается в конструкторе EmbedRetriever при первом запросе;\", \"Используется перед поиском по векторному пространству;\", \"Требуется в тестах, чтобы убедиться, что embeddings созданы;\", \"Зависит от метода _encode, который преобразует тексты в векторы.\"], \"returns\": \"None (изменяет внутреннее состояние объекта)\", \"edge_cases\": \"Если self.texts пустой или self.loaded уже True, функция сразу возвращает; возможна ошибка в _encode, если входные данные некорректны.\"}",
    "type": "function",
    "file_path": "C:\\ERV\\projects-ex\\kosmos-vector\\prototype_rag_cli.py",
    "source": "LLM",
    "timestamp": 1763383732.1215777
  },
  "EmbedRetriever._encode": {
    "l2": "{\"purpose\": \"Encode a list of text strings into embeddings using a SentenceTransformer model.\", \"uses\": [\"Called during query processing to transform user input into vector form.\", \"Used by the retriever to compute similarity with stored document embeddings.\", \"Invoked when the model is not yet loaded but the system is configured to use a real model.\", \"Ensures embeddings are generated lazily, loading the model only once.\", \"\"], \"returns\": \"A NumPy array of shape (len(texts), embedding_dim) containing the encoded vectors.\", \"edge_cases\": \"If REAL_MODEL is False, the function does nothing and returns None; if self.model_name is missing or invalid, SentenceTransformer will raise an exception; repeated calls may reinitialize the model if self.model is set to None.\"}",
    "type": "function",
    "file_path": "C:\\ERV\\projects-ex\\kosmos-vector\\prototype_rag_cli.py",
    "source": "LLM",
    "timestamp": 1763383732.1215777
  },
  "EmbedRetriever._save_pickle": {
    "l2": "{\"purpose\": \"Сохраняет тексты и их эмбеддинги в pickle‑файл для последующего восстановления.\", \"uses\": [\"Хранение результатов предварительной обработки в памяти между запусками\", \"Подготовка данных для обучения модели\", \"Восстановление индекса без повторного вычисления эмбеддингов\"], \"returns\": \"None\", \"edge_cases\": \"Если self.embeddings_dict содержит нулевые массивы, они сохранятся как пустые списки; при открытии файла в режиме 'wb' может возникнуть PermissionError при отсутствии прав записи.\"}",
    "type": "function",
    "file_path": "C:\\ERV\\projects-ex\\kosmos-vector\\prototype_rag_cli.py",
    "source": "LLM",
    "timestamp": 1763383732.1215777
  },
  "EmbedRetriever.encode_query": {
    "l2": "{\"purpose\": \"Encode a search query into a vector representation for similarity search. It uses a real embedding model when available and falls back to deterministic random vectors for testing.\", \"uses\": [\"Creating embeddings for query terms in a vector database\", \"Generating synthetic embeddings when a model is absent\", \"Normalizing query input with a prefix for model consistency\"], \"returns\": \"numpy.ndarray – a 2‑D array of shape (1, dim) containing the query embedding\", \"edge_cases\": \"No docstring; assumes query is a string – passing non‑string types raises a TypeError. Random fallback always uses seed 42, so embeddings repeat across runs, which may mask variability in tests.\"}",
    "type": "function",
    "file_path": "C:\\ERV\\projects-ex\\kosmos-vector\\prototype_rag_cli.py",
    "source": "LLM",
    "timestamp": 1763383732.1215777
  },
  "EmbedRetriever.get_similarities": {
    "l2": "{\"purpose\": \"Функция вычисляет сходство заданного вектора запроса с векторами AI‑элементов, возвращая список из наиболее похожих объектов.\", \"uses\": [\"рекомендации похожих AI‑элементов в UI\", \"поиск по схожести в базе данных\", \"сортировка результатов по релевантности\"], \"returns\": \"List[AIItem] – элементы с наибольшим коэффициентом схожести (до top_k).\", \"edge_cases\": \"Если словарь ai_items пустой – возвращается пустой список; top_k больше количества элементов – возвращаются все; несоответствие размеров векторов может вызвать ValueError при расчёте косинусного сходства.\"}",
    "type": "function",
    "file_path": "C:\\ERV\\projects-ex\\kosmos-vector\\prototype_rag_cli.py",
    "source": "LLM",
    "timestamp": 1763383732.1215777
  },
  "build_graph": {
    "l2": "{\"purpose\": \"Создаёт ориентированный граф зависимостей между объектами AIItem, где вершины представляют элементы, а рёбра — вызовы из calls_dict.\", \"uses\": [\"Построение графа для анализа цепочек вызовов в системе AI.\", \"Визуализация зависимостей между компонентами.\", \"Проверка наличия циклов и топологической сортировки.\", \"Генерация отчётов о взаимосвязях.\"], \"returns\": \"DiGraph с атрибутами узлов (type, l2, weight) и рёбрами из calls_dict.\", \"edge_cases\": \"Если calls_dict не содержит ключа для элемента, рёбра не добавляются; отсутствие l2 или weight приводит к None‑значениям; циклические зависимости не проверяются, что может вызвать бесконечные рекурсии при обходе.\"}",
    "type": "function",
    "file_path": "C:\\ERV\\projects-ex\\kosmos-vector\\prototype_rag_cli.py",
    "source": "LLM",
    "timestamp": 1763383732.1215777
  },
  "choose_levels": {
    "l2": "{\"purpose\": \"Определяет, какие уровни детализации (L0, L1, L2) применить к запросу, основываясь на ключевых словах.\", \"uses\": [\"Выбор уровня ответа в чат‑боте\", \"Фильтрация контекста перед генерацией\", \"Контроль сложности объяснения\"], \"returns\": \"Dict[str, bool] с флагами для L0, L1, L2\", \"edge_cases\": \"Пустой запрос возвращает все уровни False, а некорректные символы могут привести к неверной интерпретации ключевых слов\"}",
    "type": "function",
    "file_path": "C:\\ERV\\projects-ex\\kosmos-vector\\prototype_rag_cli.py",
    "source": "LLM",
    "timestamp": 1763383732.1215777
  },
  "build_rag": {
    "l2": "{\"purpose\": \"Создаёт строку L2‑контекста, объединяя результаты поиска AIItem, при необходимости генерируя недостающие части через L2Generator.\", \"uses\": [\"Генерация L2‑текста для обучающего материала\", \"Формирование контента для RAG‑системы\", \"Встраивание уровней сложности из словаря levels\"], \"returns\": \"str – собранный L2‑контекст\", \"edge_cases\": \"Если generator отсутствует и item.l2 пустой, часть пропускается; levels может быть пустым, что приводит к отсутствию дополнительной информации.\"}",
    "type": "function",
    "file_path": "C:\\ERV\\projects-ex\\kosmos-vector\\prototype_rag_cli.py",
    "source": "LLM",
    "timestamp": 1763383732.1215777
  },
  "retrieve_ai_items": {
    "l2": "{\"purpose\": \"Retrieve AI items matching a query by combining embedding cosine similarity, keyword boosting, and graph‑based neighbor expansion weighted by centrality, while filtering out items below a minimum relevance threshold.\", \"uses\": [\"EmbedRetriever for vector similarity\", \"Keyword matching to boost relevant nodes\", \"NetworkX DiGraph traversal with centrality scores\", \"AIItem index lookup\"], \"returns\": \"List[AIItem] – the top_k most relevant items or an empty list if none meet min_weight\", \"edge_cases\": \"Handles empty graph or missing query tokens by returning an empty list; ignores items with centrality‑weighted score below min_weight; may raise KeyError if ai_index lacks a required key.\"}",
    "type": "function",
    "file_path": "C:\\ERV\\projects-ex\\kosmos-vector\\prototype_rag_cli.py",
    "source": "LLM",
    "timestamp": 1763383732.1215777
  },
  "parse_self_to_ai_items": {
    "l2": "{\"purpose\": \"Parse the current file for AIItem definitions, optionally fetching L1 data via API.\", \"uses\": [\"Reading own source code\", \"Conditional API call to external service\", \"Processing AIItem objects\", \"Collecting error messages\"], \"returns\": \"Tuple of two dicts: mapping IDs to AIItem instances and mapping IDs to lists of error strings.\", \"edge_cases\": \"File read failures, malformed AIItem syntax, network timeouts, empty API responses\"}",
    "type": "function",
    "file_path": "C:\\ERV\\projects-ex\\kosmos-vector\\prototype_rag_cli.py",
    "source": "LLM",
    "timestamp": 1763383732.1215777
  },
  "ImprovedCodeParser": {
    "l2": "{\"purpose\": \"Парсер, расширяющий ast.NodeVisitor для сбора информации о вызовах функций, присваиваниях и импортах в Python‑коде, а также хранит найденные элементы в словарях.\", \"uses\": [\"Анализ кода для построения графа вызовов.\", \"Сбор данных о зависимостях и импортируемых модулях.\", \"Подготовка информации для рефакторинга или статического анализа.\", \"Валидация и поиск ошибок в исходном коде.\"], \"returns\": \"None (данные сохраняются в атрибутах экземпляра).\", \"edge_cases\": \"Не учитывает динамические вызовы через eval/exec, может пропустить вложенные функции из-за отсутствия контекстного отслеживания, а также не обрабатывает импорты с алиасами без явного имени.\"}",
    "type": "class",
    "file_path": "C:\\ERV\\projects-ex\\kosmos-vector\\prototype_rag_cli.py",
    "source": "LLM",
    "timestamp": 1763383732.1215777
  },
  "ImprovedCodeParser.__init__": {
    "l2": "{\"purpose\": \"Инициализирует парсер кода, создавая структуры для хранения элементов, вызовов, присваиваний, импортов и текущего контекста класса/функции.\", \"uses\": [\"Парсинг Python‑скриптов в анализаторе кода\", \"Сбор информации о зависимостях между модулями\", \"Отслеживание вызовов функций внутри кода\", \"Формирование словаря встроенных функций для проверки\"], \"returns\": \"None\", \"edge_cases\": \"Если словарь built_ins не содержит нужного элемента, может возникнуть KeyError; отсутствие текущего контекста (class/func) приводит к None‑значениям в словарях.\"}",
    "type": "function",
    "file_path": "C:\\ERV\\projects-ex\\kosmos-vector\\prototype_rag_cli.py",
    "source": "LLM",
    "timestamp": 1763383732.1215777
  },
  "ImprovedCodeParser.visit_ClassDef": {
    "l2": "{\"purpose\": \"Записывает имя текущего класса в парсер и сбрасывает контекст функции, чтобы дальнейшие методы могли корректно работать с классом.\", \"uses\": [\"Вызывается в visitor‑методе для узлов ClassDef в AST;\", \"Используется в последующих visit_… методах для генерации контрактов;\", \"Вспомогательное поле self.current_class передаётся в генератор запросов;\", \"Служит для сбора зависимостей между классами и функциями.\"], \"returns\": \"None\", \"edge_cases\": \"Если узел не содержит имени (node.name отсутствует) – возникает AttributeError; вложенные классы могут перезаписать self.current_class, что приводит к потере контекста предыдущего класса.\"}",
    "type": "function",
    "file_path": "C:\\ERV\\projects-ex\\kosmos-vector\\prototype_rag_cli.py",
    "source": "LLM",
    "timestamp": 1763383732.1215777
  },
  "ImprovedCodeParser.visit_FunctionDef": {
    "l2": "{\"purpose\": \"Определяет имя функции и собирает её аргументы и документацию в процессе парсинга RAG‑прототипа.\", \"uses\": [\"Вызов visit_FunctionDef при обходе AST‑дерева Python‑кода.\", \"Используется для построения справочника функций в RAG‑модели.\", \"Обрабатывает функции без аргументов и без docstring.\", \"Подготавливает данные для дальнейшего генератора кода.\", \"\"], \"returns\": \"None\", \"edge_cases\": \"Функции без docstring приводят к None в переменной docstring; пустой список аргументов корректно обрабатывается, но может вызвать ошибку при дальнейших шагах, если ожидается хотя бы один аргумент.\"}",
    "type": "function",
    "file_path": "C:\\ERV\\projects-ex\\kosmos-vector\\prototype_rag_cli.py",
    "source": "LLM",
    "timestamp": 1763383732.1215777
  },
  "ImprovedCodeParser.visit_Call": {
    "l2": "{\"purpose\": \"Обрабатывает вызовы функций внутри класса, выявляя методы, вызванные через self, чтобы построить граф вызовов и анализ зависимостей.\", \"uses\": [\"Построение графа зависимостей методов\", \"Определение точек входа для рефакторинга\", \"Анализ потенциальных циклических вызовов\", \"Проверка доступности методов при наследовании\"], \"returns\": \"None\", \"edge_cases\": \"Если node.func не является ast.Attribute или не относится к self, метод игнорируется; динамические вызовы через getattr или переменные не анализируются, что может привести к пропущенным зависимостям.\"}",
    "type": "function",
    "file_path": "C:\\ERV\\projects-ex\\kosmos-vector\\prototype_rag_cli.py",
    "source": "LLM",
    "timestamp": 1763383732.1215777
  },
  "ImprovedCodeParser.visit_Assign": {
    "l2": "{\"purpose\": \"Проверяет присваивания в AST, определяя контекст (функция, метод класса или глобальный), и собирает информацию о переменных.\", \"uses\": [\"Обрабатывает узлы Assign в дереве AST;\", \"Используется внутри парсера, чтобы отследить переменные в пределах функций;\", \"Зависит от атрибутов self.current_func и self.current_class;\", \"Включено в анализатор кода для построения графа зависимостей.\"], \"returns\": \"None\", \"edge_cases\": \"Если current_func пустой, но внутри класса, caller_id будет 'global', что может искажать контекст; также возможны ошибки, если node содержит множественные присваивания (tuple unpacking) без обработки.\"}",
    "type": "function",
    "file_path": "C:\\ERV\\projects-ex\\kosmos-vector\\prototype_rag_cli.py",
    "source": "LLM",
    "timestamp": 1763383732.1215777
  },
  "ImprovedCodeParser.visit_Import": {
    "l2": "{\"purpose\": \"Метод обрабатывает узлы импорта в дереве AST, собирая информацию о модулях, которые импортируются, и связывая их с текущим контекстом (функцией или классом).\", \"uses\": [\"Генерация графа зависимостей кода\", \"Анализ покрываемости импортов\", \"Автоматическое обновление импортов при рефакторинге\", \"Проверка наличия неиспользуемых импортов\"], \"returns\": \"None\", \"edge_cases\": \"Если импорт находится внутри метода/функции, контекст может быть некорректно сформирован; не учитываются относительные импорты (from . import …) и импорты из пакета, что может привести к пропущенным зависимостям.\"}",
    "type": "function",
    "file_path": "C:\\ERV\\projects-ex\\kosmos-vector\\prototype_rag_cli.py",
    "source": "LLM",
    "timestamp": 1763383732.1215777
  },
  "ImprovedCodeParser.visit_ImportFrom": {
    "l2": "{\"purpose\": \"Проверяет, находится ли импорт‑заявление внутри функции или класса, формирует идентификатор вызывающего контекста и обрабатывает импорт‑from узел AST.\", \"uses\": [\"Сбор информации об импортируемых модулях в рамках функции/класса\", \"Отслеживание зависимостей внутри проекта\", \"Валидация импортов при статическом анализе\", \"Генерация отчётов о структуре кода\"], \"returns\": \"None\", \"edge_cases\": \"Не учитывает относительные импорты без имени модуля, не обрабатывает вложенные импорты в списке, может пропустить импорт при отсутствии current_func и current_class\"}",
    "type": "function",
    "file_path": "C:\\ERV\\projects-ex\\kosmos-vector\\prototype_rag_cli.py",
    "source": "LLM",
    "timestamp": 1763383732.1215777
  }
}